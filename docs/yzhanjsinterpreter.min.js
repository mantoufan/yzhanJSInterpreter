!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.yzhanJSInterpreter=n():e.yzhanJSInterpreter=n()}(this,(function(){return function(){var e={449:function(e){e.exports=function e(){"use strict";var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=n,this.value=t}},543:function(e){function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(){"use strict";function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.vars=new Map,this.parent=n}var t,r;return t=e,(r=[{key:"set",value:function(e,n){this.vars.has(e)||!this.parent?this.vars.set(e,n):this.parent.set(e,n)}},{key:"get",value:function(e){return this.vars.has(e)||!this.parent?this.vars.get(e):this.parent.get(e)}}])&&n(t.prototype,r),e}()},253:function(e){function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(){"use strict";function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.object=n,this.property=t}var t,r;return t=e,(r=[{key:"set",value:function(e){this.object.set(this.property,e)}},{key:"get",value:function(){return this.object.get(this.property)}}])&&n(t.prototype,r),e}()},219:function(e,n){var t=new Map([["Parameters",[["Identifier"],["Parameters",",","Identifier"]]],["FunctionDeclaration",[["function","Identifier","(",")","{","StatementList","}"],["function","Identifier","(","Parameters",")","{","StatementList","}"]]],["Declaration",[["FunctionDeclaration"],["var","Identifier","=","Expression",";"],["let","Identifier","=","Expression",";"],["const","Identifier","=","Expression",";"]]],["Literal",[["NumberLiteral"],["StringLiteral"],["BooleanLiteral"],["NullLiteral"]]],["Primary",[["(","Expression",")"],["Literal"],["Identifier"]]],["MemberExpression",[["Primary"],["MemberExpression",".","Identifier"],["MemberExpression","[","Expression","]"]]],["NewExpression",[["MemberExpression"],["new","NewExpression"]]],["CallExpression",[["new","MemberExpression","(",")"],["MemberExpression","(",")"],["CallExpression",".","Identifier"],["CallExpression","[","Expression","]"],["CallExpression","(","Arguments",")"]]],["LeftHandSideExpression",[["MemberExpression"],["CallExpression"],["NewExpression"]]],["UpdateExpression",[["LeftHandSideExpression"],["LeftHandSideExpression","++"],["LeftHandSideExpression","--"],["++","LeftHandSideExpression"],["--","LeftHandSideExpression"]]],["MultiplicativeExpression",[["UpdateExpression"],["MultiplicativeExpression","*","UpdateExpression"],["MultiplicativeExpression","/","UpdateExpression"],["MultiplicativeExpression","%","UpdateExpression"]]],["AdditiveExpression",[["MultiplicativeExpression"],["AdditiveExpression","+","MultiplicativeExpression"],["AdditiveExpression","-","MultiplicativeExpression"]]],["RelationalExpression",[["AdditiveExpression"],["RelationalExpression",">","AdditiveExpression"],["RelationalExpression","<","AdditiveExpression"]]],["EqualityExpression",[["RelationalExpression"],["EqualityExpression","==","RelationalExpression"],["EqualityExpression","!=","RelationalExpression"],["EqualityExpression","===","RelationalExpression"],["EqualityExpression","!==","RelationalExpression"]]],["BitwiseANDExpression",[["EqualityExpression"],["BitwiseANDExpression","&","EqualityExpression"]]],["BitwiseXORExpression",[["BitwiseANDExpression"],["BitwiseXORExpression","^","BitwiseANDExpression"]]],["BitwiseORExpression",[["BitwiseXORExpression"],["BitwiseORExpression","|","BitwiseXORExpression"]]],["LogicalANDExpression",[["BitwiseORExpression"],["LogicalANDExpression","&&","BitwiseORExpression"]]],["LogicalORExpression",[["LogicalANDExpression"],["LogicalORExpression","||","LogicalANDExpression"]]],["CoalesceExpression",[["ShortCircuitExpression","??","BitwiseORExpression"]]],["ShortCircuitExpression",[["LogicalORExpression"],["CoalesceExpression"]]],["ConditionalExpression",[["ShortCircuitExpression"],["ShortCircuitExpression","?","AssignmentExpression",":","AssignmentExpression"]]],["AssignmentOperator",[["*="],["/="],["%="],["+="],["-="],["<<="],[">>="],[">>>="],["&="],["^="],["|="],["**="]]],["AssignmentExpression",[["ConditionalExpression"],["LeftHandSideExpression","=","AssignmentExpression"],["LeftHandSideExpression","AssignmentOperator","AssignmentExpression"],["LeftHandSideExpression","&&=","AssignmentExpression"],["LeftHandSideExpression","||=","AssignmentExpression"],["LeftHandSideExpression","??=","AssignmentExpression"]]],["Expression",[["AssignmentExpression"],["Expression",",","AssignmentExpression"]]],["ExpressionStatement",[["Expression",";"]]],["BlockStatement",[["{","}"],["{","StatementList","}"]]],["IfStatement",[["if","(","Expression",")","Statement"],["if","(","Expression",")","else","Statement"]]],["ForStatement",[["for","(","let","Expression",";","Expression",";","Expression",")","Statement"],["for","(","var","Expression",";","Expression",";","Expression",")","Statement"],["for","(","Expression",";","Expression",";","Expression",")","Statement"]]],["BreakableStatement",[["ForStatement"]]],["BreakStatement",[["break",";"],["break","Identifier",";"]]],["ContinueStatement",[["continue",";"],["continue","Identifier",";"]]],["Statement",[["BlockStatement"],["ExpressionStatement"],["IfStatement"],["ForStatement"],["BreakableStatement"],["BreakStatement"],["ContinueStatement"],["Declaration"]]],["StatementListItem",[["Statement"],["Declaration"]]],["StatementList",[["StatementListItem"],["StatementList","StatementListItem"]]],["Program",[["StatementList"]]]]);n.regStr="\n(?<NumberLiteral>(?:0[xX][0-9a-fA-F]*|\\.[0-9]+|(?:[1-9]+[0-9]*|0)(?:\\.[0-9]*|\\.)?)(?:[eE][+-]{0,1}[0-9]+)?(?![_$a-zA-Z0-9]))|\n(?<NulLiteral>null(?![_$a-zA-Z0-9]))|\n(?<BooleanLiteral>(?:true|false)(?![_$a-zA-Z0-9]))|\n(?<StringLiteral>\"(?:[^\"\\n\\\\\\r\\u2028\\u2029]|\\\\(?:['\"\\\\bfnrtv\\n\\r\\u2028\\u2029]|\\r\\n)|\\\\x[0-9a-fA-F]{2}|\\\\u[0-9a-fA-F]{4}|\\\\[^0-9ux'\"\\\\bfnrtv\\n\\\\\\r\\u2028\\u2029])*\"|'(?:[^'\\n\\\\\\r\\u2028\\u2029]|\\\\(?:['\"\\\\bfnrtv\\n\\r\\u2028\\u2029]|\\r\\n)|\\\\x[0-9a-fA-F]{2}|\\\\u[0-9a-fA-F]{4}|\\\\[^0-9ux'\"\\\\bfnrtv\\n\\\\\\r\\u2028\\u2029])*')|\n(?<Punctuator>>>>=|>>=|<<=|===|!==|>>>|<<|%=|\\*=|-=|\\+=|<=|>=|==|!=|/=|\\^=|\\|=|&&=|\\|\\|=|\\?\\?=|\\|\\||&&|\\?\\?|&=|>>|\\+\\+|--|\\:|}|\\*|&|\\||\\^|!|~|-|\\+|\\?|%|=|>|<|,|;|\\.(?![0-9])|\\]|\\[|\\)|\\(|{)|\n(?<Keywords>break(?![_$a-zA-Z0-9])|else(?![_$a-zA-Z0-9])|new(?![_$a-zA-Z0-9])|var(?![_$a-zA-Z0-9])|let(?![_$a-zA-Z0-9])|const(?![_$a-zA-Z0-9])|case(?![_$a-zA-Z0-9])|finally(?![_$a-zA-Z0-9])|return(?![_$a-zA-Z0-9])|void(?![_$a-zA-Z0-9])|catch(?![_$a-zA-Z0-9])|for(?![_$a-zA-Z0-9])|switch(?![_$a-zA-Z0-9])|while(?![_$a-zA-Z0-9])|continue(?![_$a-zA-Z0-9])|function(?![_$a-zA-Z0-9])|this(?![_$a-zA-Z0-9])|with(?![_$a-zA-Z0-9])|default(?![_$a-zA-Z0-9])|if(?![_$a-zA-Z0-9])|throw(?![_$a-zA-Z0-9])|delete(?![_$a-zA-Z0-9])|in(?![_$a-zA-Z0-9])|try(?![_$a-zA-Z0-9])|do(?![_$a-zA-Z0-9])|instanceof(?![_$a-zA-Z0-9])|typeof(?![_$a-zA-Z0-9]))|\n(?<LineTerminator>(?:\\n))|\n(?<Identifier>[_&A-Za-z][_&A-Za-z0-9\\\\u200C\\\\u200D]{0,})\n",n.rulesMap=t,n.initialState={Program:{EOF:{$end:!0}}}},214:function(e,n,t){var r=t(253),i=t(543),s=t(449),o=new i,a=function(e){var n,t,i=c(e);return n=i,(null!=(t=r)&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](n):n instanceof t)?i.get():i},l={envStack:[o],get currentEnv(){return this.envStack[this.envStack.length-1]},Identifier:function(e){return new r(this.currentEnv,e.value)},Parameters:function(e){if(1===e.children.length)return evalute(e.children[0]);var n,t=null!==(n=a(e.children[0]))&&void 0!==n?n:[],r=a(e.children[2]);return t.concat(r)},FunctionDeclaration:function(e){e.children.length},Declaration:function(e){this.currentEnv.set(e.children[1].value,void 0),c(e.children[1]).set(c(e.children[3]))},NumberLiteral:function(e){return 1*e.value},StringLiteral:function(e){return e.value.slice(1,-1)},BooleanLiteral:function(e){return"true"===e.value},NullLiteral:function(){return null},Literal:function(e){return c(e.children[0])},Primary:function(e){return 1===e.children.length?c(e.children[0]):c(e.children[1])},MemberExpression:function(e){return 1===e.children.length?c(e.children[0]):3===e.children.length?new r(evalute(e.children[0]),e.children[2]):new r(evalute(e.children[0]),evalute(e.children[2]))},NewExpression:function(e){return 1===e.children.length?c(e.children[0]):new c(e.children[1])},CallExpression:function(e){},LeftHandSideExpression:function(e){return c(e.children[0])},UpdateExpression:function(e){if(1===e.children.length)return c(e.children[0]);var n=void 0;if("++"===e.children[0].type){var t=c(e.children[1]);t.set(n=t.get()+1)}else if("--"===e.children[0].type){var r=c(e.children[1]);r.set(n=r.get()-1)}else if("++"===e.children[1].type){var i=c(e.children[0]);i.set((n=i.get())+1)}else if("--"===e.children[1].type){var s=c(e.children[0]);s.set((n=s.get())-1)}return n},MultiplicativeExpression:function(e){if(1===e.children.length)return c(e.children[0]);var n=a(e.children[0]),t=a(e.children[2]);return"*"===e.children[1].type?n*t:"/"===e.children[1].type?n/t:n%t},AdditiveExpression:function(e){if(1===e.children.length)return c(e.children[0]);var n=a(e.children[0]),t=a(e.children[2]);return"+"===e.children[1].type?n+t:n-t},RelationalExpression:function(e){if(1===e.children.length)return c(e.children[0]);var n=a(e.children[0]),t=a(e.children[2]);return">"===e.children[1].type?n>t:n<t},EqualityExpression:function(e){if(1===e.children.length)return c(e.children[0]);var n=a(e.children[0]),t=a(e.children[2]),r=e.children[1].type;return"=="===r?n==t:"!="===r?n!=t:"==="===r?n===t:"!=="===r?n!==t:void 0},BitwiseANDExpression:function(e){return 1===e.children.length?c(e.children[0]):a(e.children[0])&a(e.children[2])},BitwiseXORExpression:function(e){return 1===e.children.length?c(e.children[0]):a(e.children[0])^a(e.children[2])},BitwiseORExpression:function(e){return 1===e.children.length?c(e.children[0]):a(e.children[0])|a(e.children[2])},LogicalANDExpression:function(e){if(1===e.children.length)return c(e.children[0]);var n=a(e.children[0]),t=a(e.children[2]);return n&&t},LogicalORExpression:function(e){if(1===e.children.length)return c(e.children[0]);var n=a(e.children[0]),t=a(e.children[2]);return n||t},CoalesceExpression:function(e){if(1===e.children.length)return c(e.children[0]);var n=a(e.children[0]),t=a(e.children[2]);return null!=n?n:t},CoalesceExpressionHead:function(e){if(1===e.children.length)return c(e.children[0])},ShortCircuitExpression:function(e){if(1===e.children.length)return c(e.children[0])},ConditionalExpression:function(e){if(1===e.children.length)return c(e.children[0]);var n=c(e.children[0]);return c(n?e.children[2]:e.children[4])},AssignmentOperator:function(e){return e.children[0].type},AssignmentExpression:function(e){if(1===e.children.length)return c(e.children[0]);var n=c(e.children[0]),t=a(e.children[2]),r=void 0;if("="===e.children[1].type)n.set(r=t);else if("AssignmentOperator"===e.children[1].type){var i=c(e.children[1]);"*="===i?n.set(r=n.get()*t):"/="===i?n.set(r=n.get()/t):"%="===i?n.set(r=n.get()%t):"+="===i?n.set(r=n.get()+t):"-="===i?n.set(r=n.get()-t):"<<="===i?n.set(r=n.get()<<t):">>="===i?n.set(r=n.get()>>t):">>>="===i?n.set(r=n.get()>>>t):"&="===i?n.set(r=n.get()&t):"^="===i?n.set(r=n.get()^t):"|="===i?n.set(r=n.get()|t):"**="===i&&n.set(r=Math.pow(n.get(),t))}else if("&&="===e.children[1].type)n.set(r=n.get()&&t);else if("||="===e.children[1].type)n.set(r=n.get()||t);else if("??="===e.children[1].type){var s;n.set(r=null!==(s=n.get())&&void 0!==s?s:t)}return r},Expression:function(e){return 1===e.children.length?c(e.children[0]):(c(e.children[0]),c(e.children[2]))},ExpressionStatement:function(e){return new s("normal",c(e.children[0]))},BlockStatement:function(e){if(3===e.children.length){this.envStack.push(new i(this.currentEnv));var n=c(e.children[1]);return this.envStack.pop(),n}return new s("normal")},IfStatement:function(e){var n=c(e.children[2]);return 5===e.children.length?n?c(e.children[4]):new s("normal"):c(n?e.children[4]:e.children[6])},ForStatement:function(e){var n=2;10===e.children.length&&n++;var t=e.children[n],r=e.children[n+2],i=e.children[n+4],o=e.children[n+6];for(c(t);c(r);){if("break"===c(o).type)return new s("normal");c(i)}},BreakableStatement:function(e){if(1===e.children.length)return c(e.children[0])},BreakStatement:function(e){return new s("break")},ContinueStatement:function(e){return new s("continue")},Statement:function(e){return c(e.children[0])},StatementListItem:function(e){var n,t=c(e.children[0]);return(null===(n=t)||void 0===n?void 0:n.type)?t:new s("normal",t)},StatementList:function(e){if(1===e.children.length)return c(e.children[0]);var n=c(e.children[0]);return"normal"===n.type?c(e.children[1]):n},Program:function(e){return c(e.children[0])}},c=function(e){return void 0===l[e.type]&&console.log("ast.type",e.type),l[e.type](e)};n.execute=c,n.globalEnv=o},638:function(e,n,t){var i=t(219).regStr;e.exports=function(e){for(var n=new RegExp(i.replace(/\s+/g,""),"g"),t=[];r=n.exec(e);){var s=Object.keys(r.groups),o=!0,a=!1,l=void 0;try{for(var c,u=s[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var p=c.value;void 0!==r.groups[p]&&t.push({type:"Punctuator"===p||"Keywords"===p?r.groups[p]:p,value:r.groups[p]})}}catch(e){a=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}}return t.push({type:"EOF"}),t}},924:function(e,n,t){var r=t(219),i=r.rulesMap,s=r.initialState;function o(e,n,t){var r=new Set;return JSON.stringify(e,(function(e,t){if("object"==typeof t&&null!==t){if(r.has(t))return"[Circular]";r.add(t)}return n?n(e,t):t}),t)}var a=function(e,n){for(var t=function(){var e=i.shift();return!1===n.has(e)||!0===s.has(e)?"continue":(n.get(e).forEach((function(n){r.push({ruleBody:n,$reduce:e}),i.push(n[0])})),void s.add(e))},r=[],i=[e],s=new Set;0!==i.length;)t();return r},l=new Map,c=function(e,n){l.set(o(e),e);var t=!0,r=!1,i=void 0;try{for(var s,u=Object.keys(e)[Symbol.iterator]();!(t=(s=u.next()).done);t=!0){var p=s.value;p.startsWith("$")||a(p,n).forEach((function(n){var t=n.ruleBody,r=n.$reduce,i=e;t.forEach((function(e){void 0===i[e]&&(i[e]={}),i=i[e]})),i.$reduce=r,i.$count=t.length}))}}catch(e){r=!0,i=e}finally{try{t||null==u.return||u.return()}finally{if(r)throw i}}var d=!0,h=!1,f=void 0;try{for(var x,E=Object.keys(e)[Symbol.iterator]();!(d=(x=E.next()).done);d=!0){var v=x.value;if(!v.startsWith("$")){var g=o(e[v]);l.has(g)?e[v]=l.get(g):c(e[v],n)}}}catch(e){h=!0,f=e}finally{try{d||null==E.return||E.return()}finally{if(h)throw f}}return e};e.exports=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;l.clear(),c(t,n);for(var r=[],o=[t],a=e.length,u=function(e){for(;void 0===o[o.length-1][e.type]&&o[o.length-1].$reduce;)p();if(void 0===o[o.length-1][e.type]){if("EOF"===e.type||"}"===e.type||d)return u({type:";",value:";"}),u(e);throw Error("syntax error type "+e.type)}r.push(e),o.push(o[o.length-1][e.type])},p=function(){for(var e=o[o.length-1],n={type:e.$reduce,children:[]},t=0;t<e.$count;t++)n.children.unshift(r.pop()),o.pop();u(n)},d=!1,h=0;h<a;h++){var f=e[h];"LineTerminator"===f.type?d=!0:(u(f),d=!1)}return r}}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var s=n[r]={exports:{}};return e[r](s,s.exports,t),s.exports}var i={};return function(){var e=i,n=t(638),r=t(924),s=t(214),o=s.execute;s.globalEnv,e.default={lex:n,parse:r,execute:o}}(),i.default}()}));